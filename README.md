### 1.v-if和v-for哪个优先级高？如果两个同时出现，应该怎么优化得到更好的性能？

1. 当它们处于同一节点时，v-for比v-if优先级更高。因为v-for需要将模板转换为VNode，而v-if是VNode中负责控制是否渲染成真实Dom的对象，所以v-for比v-if优先级更高
2. 优化方案：
   - 如果是为了过滤掉数据结构中某个状态数据的话，可以使用computed计算属性来对v-for要迭代的数据进行过滤，则可以省略v-if判断，只迭代出想要的数据项。
   - 如果v-if是为了控制v-for渲染后的整体结果显示隐藏的话，那么建议将v-if提升至v-for的父容器上，这样可以避免v-if条件不成立时，仍然会去进行v-for的渲染，造成无意义的性能浪费。

### 2.Vue组件data选项为什么必须是个函数而Vue的根实例则没有此限制？

1. vue组件的data选项，是用来管理组件中需要绑定的数据。而组件有可能会被同时、多次调用，此时如果data属性为对象的话，一旦修改其中一个组件的数据，其他组件相同数据就会被改变。而如果data作为函数的话，每次使用组件return data对象时都会在栈中开辟一块新的内存空间，所以相同组件多次使用，组件间不会互相影响。
2. 根实例是在应用初始化时，就对data中的数据进行响应式处理，且初始化完成之后无法在根实例的data上继续添加响应式属性，所以不存在响应冲突的问题，因此vue根实例的data可以是对象形式。