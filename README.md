### 1.v-if和v-for哪个优先级高？如果两个同时出现，应该怎么优化得到更好的性能？

1. 当它们处于同一节点时，v-for比v-if优先级更高。因为v-for需要将模板转换为VNode，而v-if是VNode中负责控制是否渲染成真实Dom的对象，所以v-for比v-if优先级更高
2. 优化方案：
   - 如果是为了过滤掉数据结构中某个状态数据的话，可以使用computed计算属性来对v-for要迭代的数据进行过滤，则可以省略v-if判断，只迭代出想要的数据项。
   - 如果v-if是为了控制v-for渲染后的整体结果显示隐藏的话，那么建议将v-if提升至v-for的父容器上，这样可以避免v-if条件不成立时，仍然会去进行v-for的渲染，造成无意义的性能浪费。

### 2.Vue组件data选项为什么必须是个函数而Vue的根实例则没有此限制？

1. vue组件的data选项，是用来管理组件中需要绑定的数据。而组件有可能会被同时、多次调用，此时如果data属性为对象的话，一旦修改其中一个组件的数据，其他组件相同数据就会被改变。而如果data作为函数的话，每次使用组件return data对象时都会在栈中开辟一块新的内存空间，所以相同组件多次使用，组件间不会互相影响。
2. 根实例是在应用初始化时，就对data中的数据进行响应式处理，且初始化完成之后无法在根实例的data上继续添加响应式属性，所以不存在响应冲突的问题，因此vue根实例的data可以是对象形式。

### 3.你知道vue中key的作用和工作原理吗？说说你对它的理解。

​		key是为了配合vue的diff算法，管理可复用的元素，减少不必要的元素的重新渲染,也要让必要的元素能够重		新渲染。

​		在高度复用的组件或者循环渲染的元素上，建议增加一个值唯一的key属性，目的是在于当vue响应数据变化		时，一来可以根据key，更快更精确地定位到VNode。其次，相同标签名元素的过渡切换时，也会使用到key		属性，其目的也是为了让vue可以区分它们，否则vue只会替换其内部属性而不会触发过渡效果。

### 4.你怎么理解vue中的diff算法？

​		vue是依靠虚拟dom来进行高效的页面渲染，当依赖绑定的数据发生变化时，需要更新某一个或多个组件来进		行响应。此时，就必须要对新、老两套dom元素进行比较，这个比较的过程就是diff算法。

​		在进行diff算法比较时，首先会比较同级元素，如果两个元素未发生改变且均包含子元素，则会递归向下比		较。

​		vue对diff算法进行了改进，会从新老VNode树的头尾开始向中间比较，如果找到，则将VNode进行位移，如		果未找到对应匹配，则开始双重循环比较，这样的改进优化了算法的执行效率，对于变化不大的视图来说，		可以减少循环次数，节省性能